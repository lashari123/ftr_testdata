//Generated by wsdl2apex

public class WS_ESB_CreateOrder {
    public class OrderOutputComplexType {
        public String OrderNo;
        transient String[] OrderNo_att_info = new String[]{'OrderNo'};
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{};
    }
    public class OrderOutputType {
        public WS_ESB_CreateOrder.OrderOutputComplexType return_x;
        transient String[] return_x_type_info = new String[]{'return','http://bean.custom.com/',null,'1','1','false'};
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{'return_x'};
    }
    
    public class Extn {
        public String ExtnOrderedCSREmail;
        public String ExtnOrderedCSRID;
        
        transient String[] ExtnOrderedCSREmail_att_info = new String[]{'ExtnOrderedCSREmail'};
        transient String[] ExtnOrderedCSRID_att_info = new String[]{'ExtnOrderedCSRID'};
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{};
        
        public Extn(){          
            User usr = [SELECT CRIS_ID__c,Email FROM User where id =: UserInfo.getUserId()];
            ExtnOrderedCSREmail = usr.Email;
            ExtnOrderedCSRID =  usr.CRIS_ID__C;
        }
    }
    public class InputType {
        //09/29/2015 sunil shrestha addition of three new fields as requested
                
        public Extn Extn = new Extn();       
        //public OrderLines OrderLine;
        //end of addition of new fields
        
        public String DocumentType;
        public String DraftOrderFlag;
        public String EnterpriseCode;
        public String OrderHeaderKey;
        public String OrderNo;
        
        //transient String[] ExtnOrderedCSREmail_att_info = new String[]{'ExtnOrderedCSREmail'};
        //transient String[] ExtnOrderedCSRID_att_info = new String[]{'ExtnOrderedCSRID'};
        transient String[] Extn_type_info = new String[]{'Extn', 'http://bean.custom.com/documentation/CreateOrderFromQuote/FTRCreateOrderFromQuote/input','Extn', '0','1','false'};
        // transient String[] OrderLine_type_info = new String[]{'ExtnScheduleId'};
        
        transient String[] DocumentType_att_info = new String[]{'DocumentType'};
        transient String[] DraftOrderFlag_att_info = new String[]{'DraftOrderFlag'};
        transient String[] EnterpriseCode_att_info = new String[]{'EnterpriseCode'};
        transient String[] OrderHeaderKey_att_info = new String[]{'OrderHeaderKey'};
        transient String[] OrderNo_att_info = new String[]{'OrderNo'};
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{'Extn'};
    }
    // added on 9/29/2015
    public class OrderLines {
        
        public OrderLine OrderLine;     
        transient String[] OrderLineKey_type_info = new String[]{'OrderLineKey'};
        
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{'OrderLineKey', 'ExtnScheduleId'};
    }
    
    public class OrderLine {
        public String ExtnScheduleID;
        public String OrderLineKey;
        transient String[] ExtnScheduleID_type_info = new String[]{'ExtnScheduleID'};
        transient String[] OrderLineKey_att_info = new String[]{'OrderLineKey'};        
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{'ExtnScheduleID', 'OrderLineKey'};
    }
    
    public class OrderType {
        public WS_ESB_CreateOrder.EnvType env;
        public WS_ESB_CreateOrder.InputType input;
        transient String[] env_type_info = new String[]{'env','http://bean.custom.com/',null,'1','1','false'};
        transient String[] input_type_info = new String[]{'input','http://bean.custom.com/',null,'1','1','false'};
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{'env','input'};
    }
    public class EnvType {
        public String loginId;
        public String password;
        public String progId;
        public String tokenId;
        public String userId;
        transient String[] loginId_type_info = new String[]{'loginId','http://bean.custom.com/',null,'1','1','false'};
        transient String[] password_type_info = new String[]{'password','http://bean.custom.com/',null,'1','1','false'};
        transient String[] progId_type_info = new String[]{'progId','http://bean.custom.com/',null,'1','1','false'};
        transient String[] tokenId_type_info = new String[]{'tokenId','http://bean.custom.com/',null,'1','1','false'};
        transient String[] userId_type_info = new String[]{'userId','http://bean.custom.com/',null,'1','1','false'};
        transient String[] apex_schema_type_info = new String[]{'http://bean.custom.com/','false','false'};
        transient String[] field_order_type_info = new String[]{'loginId','password','progId','tokenId','userId'};
    }
    public class customBeanPort {
       // public String endpoint_x = 'http://stcinfwladv08:9081/SIXBeanXapiJaxWS/customBeanService';
        public String endpoint_x;
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        transient String[] ns_map_type_info = new String[]{'http://bean.custom.com/', 'WS_ESB_CreateOrder'};
         public customBeanPort(){       
            endpoint_x = WS_ESB_Settings__c.getOrgDefaults().URI_QuoteToOrder__c;
            inputHttpHeaders_x = new Map<String,String>();
            inputHttpHeaders_x.put('Authorization', 'Basic ' + EncodingUtil.base64Encode(Blob.valueOf(WS_ESB_Settings__c.getOrgDefaults().HDR_Authorization__c)));
            inputHttpHeaders_x.put('apikey',WS_ESB_Settings__c.getOrgDefaults().Apigee_Token__c);
            outputHttpHeaders_x = new Map<String,String>();
            timeout_x = (integer)WS_ESB_Settings__c.getOrgDefaults().TO_QuoteToOrder__c;
        }
        public WS_ESB_CreateOrder.OrderOutputComplexType FTRCreateOrderFromQuote(WS_ESB_CreateOrder.EnvType env,WS_ESB_CreateOrder.InputType input) {
            WS_ESB_CreateOrder.OrderType request_x = new WS_ESB_CreateOrder.OrderType();
            request_x.env = env;
            request_x.input = input;
            system.debug('ESB Call - CreateOrderFromQuote');
            system.debug('==========================');          
            system.debug(JSON.serializePretty(request_x));
            system.debug('==========================');            
            system.debug('=========   END  =========');
            WS_ESB_CreateOrder.OrderOutputType response_x;
            Map<String, WS_ESB_CreateOrder.OrderOutputType> response_map_x = new Map<String, WS_ESB_CreateOrder.OrderOutputType>();
            response_map_x.put('response_x', response_x);
            if(!Test.isRunningTest()) {
                 WebServiceCallout.invoke(
              this,
                  request_x,
                  response_map_x,
                  new String[]{endpoint_x,
                  '',
                  'http://bean.custom.com/',
                  'FTRCreateOrderFromQuote',
                  'http://bean.custom.com/',
                  'FTRCreateOrderFromQuoteResponse',
                  'WS_ESB_CreateOrder.OrderOutputType'}
                );
                response_x = response_map_x.get('response_x');
                
                system.debug('Check Response - After making ESB Call');
                system.debug('ESB RESPONSE_X :::: ');
                system.debug(JSON.serializePretty(response_x));
                
                return response_x.return_x;
            } else {
                return new WS_ESB_CreateOrder.OrderOutputComplexType(); 
            }           
        }
        
        public WS_ESB_CreateOrder.OrderOutputComplexType CreateOrder(String SterlingQuoteId, String SterlingQuoteKey, String UserId) {
            WS_ESB_CreateOrder.EnvType env = new WS_ESB_CreateOrder.EnvType();
            env.userId = UserId;
            env.loginId = 'admin';
            env.password = 'Password';
            env.progId = 'SCOM';
            env.TokenId = '';     
            
            WS_ESB_CreateOrder.InputType input = new WS_ESB_CreateOrder.InputType();
            input.DocumentType = '0015';
            input.DraftOrderFlag = 'Y';
            input.EnterpriseCode = 'frontier';
            input.OrderHeaderKey = SterlingQuoteKey;
            input.OrderNo = SterlingQuoteId;
            
            return FTRCreateOrderFromQuote(env, input);
        }
    }
}